{"remainingRequest":"/Users/a/Desktop/vue3.0/vue实战/vue-gete/node_modules/babel-loader/lib/index.js!/Users/a/Desktop/vue3.0/vue实战/vue-gete/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/a/Desktop/vue3.0/vue实战/vue-gete/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/a/Desktop/vue3.0/vue实战/vue-gete/src/views/Car.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/a/Desktop/vue3.0/vue实战/vue-gete/src/views/Car.vue","mtime":1555211759974},{"path":"/Users/a/Desktop/vue3.0/vue实战/vue-gete/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a/Desktop/vue3.0/vue实战/vue-gete/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/a/Desktop/vue3.0/vue实战/vue-gete/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a/Desktop/vue3.0/vue实战/vue-gete/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _JSON$stringify from \"/Users/a/Desktop/vue3.0/vue\\u5B9E\\u6218/vue-gete/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.array.find\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/a/Desktop/vue3.0/vue\\u5B9E\\u6218/vue-gete/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Heder from \"../components/Heder\"; // import {carLiat} from \"../api\"\n// 获取数据\n\nimport { carLiat, postgood, jajan, xuangzh, deletgood } from '../api';\nexport default {\n  name: 'car',\n  data: function data() {\n    return {\n      carlist: []\n    };\n  },\n  components: {\n    Heder: Heder\n  },\n  created: function created() {\n    this.carli();\n  },\n  methods: {\n    carli: function () {\n      var _carli = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return carLiat();\n\n              case 2:\n                this.carlist = _context.sent;\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function carli() {\n        return _carli.apply(this, arguments);\n      }\n\n      return carli;\n    }(),\n    sss: function sss(val) {\n      var ff = this.carlist.find(function (item) {\n        return item.id == val.id;\n      });\n\n      if (!ff.xuanzhong) {\n        ff.xuanzhong = true;\n\n        var _good = _JSON$stringify(ff);\n\n        postgood(_good);\n        return;\n      }\n\n      ff.xuanzhong = false;\n\n      var good = _JSON$stringify(ff);\n\n      postgood(good);\n    },\n    quan: function quan(val) {},\n    btnadd: function btnadd(gooditem) {\n      if (gooditem.count == 1) {\n        return;\n      }\n\n      gooditem.count--;\n\n      var good = _JSON$stringify(gooditem);\n\n      postgood(good);\n    },\n    btnads: function btnads(gooditem) {\n      gooditem.count++;\n\n      var good = _JSON$stringify(gooditem);\n\n      postgood(good);\n    },\n    jishuan: function jishuan() {\n      if (this.ji == 0) {\n        return;\n      }\n\n      this.$router.push({\n        name: 'profile',\n        params: {\n          jis: {\n            ja: this.ji,\n            heji: this.total\n          }\n        }\n      });\n    },\n    shanc: function shanc(idx) {\n      this.carlist = this.carlist.filter(function (item) {\n        return item.id != idx.id;\n      });\n      deletgood(idx.id);\n    }\n  },\n  computed: {\n    checkAll: {\n      get: function get() {\n        if (this.carlist.length == 0) {\n          return this.checkAll = false;\n        }\n\n        return this.carlist.every(function (item) {\n          return item.xuanzhong == true;\n        });\n      },\n      set: function set(val) {\n        if (this.carlist.length == 0) {\n          return;\n        }\n\n        this.carlist.forEach(function (check) {\n          return check.xuanzhong = val;\n        });\n        console.log(val);\n\n        var good = _JSON$stringify(val);\n\n        xuangzh(good);\n      }\n    },\n    total: function total() {\n      return this.carlist.filter(function (item) {\n        return item.xuanzhong == true;\n      }).reduce(function (prev, next) {\n        return prev + next.count * next.price;\n      }, 0);\n    },\n    ji: function ji() {\n      return this.carlist.filter(function (item) {\n        return item.xuanzhong == true;\n      }).reduce(function (prev, next) {\n        return prev + next.count;\n      }, 0);\n    }\n  }\n};",{"version":3,"sources":["Car.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n    <Heder>购物车</Heder>\r\n    <div class=\"container\">\r\n      <!-- 购物车列表 -->\r\n      <div class=libox>\r\n        <div class=\"box\" v-for=\"item in carlist\" :key=\"item.id\">\r\n          <input v-model=\"item.xuanzhong\" type=\"checkbox\" @click=\"sss(item)\" class=\"ina\">\r\n          <img :src=\"item.img\" alt=\"\">\r\n          <ul>\r\n            <li>{{item.name}}：{{item.info}}</li>\r\n            <li>数量：<button @click=\"btnadd(item)\">-</button>{{item.count}}<button @click=\"btnads(item)\">+</button></li>\r\n            <li>价格：{{item.price}}</li>\r\n            <button class=\"shan\" @click=\"shanc(item)\">删除</button>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n       <!-- 全选按钮 -->\r\n      <div class=\"leb\">\r\n        <label for=\"checkall\" >\r\n           <input  v-model=\"checkAll\" type=\"checkbox\" class=\"ina\"  id=\"checkall\" @click=\"quan(checkAll)\">\r\n        </label>\r\n        <span class=\"quna\">全选</span>\r\n        <div class=\"reg\">\r\n            <span class=\"jia\">合计:￥{{total}}</span>\r\n        <button @click=\"jishuan\">结算({{ji}})</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Heder from \"../components/Heder\";\r\n// import {carLiat} from \"../api\"\r\n// 获取数据\r\nimport {carLiat,postgood,jajan,xuangzh,deletgood} from '../api';\r\nexport default {\r\n  name:'car',\r\n  data(){\r\n    return {\r\n      carlist:[],\r\n    }\r\n  },components:{\r\n    Heder,\r\n  },\r\n  created() {\r\n    this.carli()\r\n  },\r\n  methods: {\r\n    async carli(){\r\n      this.carlist= await carLiat()\r\n    },\r\n    sss(val){\r\n      let ff = this.carlist.find(item=>item.id==val.id)\r\n      if(!ff.xuanzhong){\r\n        ff.xuanzhong=true\r\n        let good =JSON.stringify(ff)\r\n        postgood(good)\r\n        return\r\n      }\r\n      ff.xuanzhong=false\r\n      let good =JSON.stringify(ff)\r\n      postgood(good)\r\n    },\r\n    quan(val){\r\n    },\r\n    btnadd(gooditem){\r\n      if(gooditem.count==1){\r\n        return\r\n      }\r\n      gooditem.count --\r\n      let good =JSON.stringify(gooditem)\r\n      postgood(good)\r\n    },\r\n    btnads(gooditem){\r\n       gooditem.count ++\r\n      let good =JSON.stringify(gooditem)\r\n      postgood(good)\r\n    },\r\n    jishuan(){\r\n      if(this.ji==0){\r\n        return\r\n      }\r\n      this.$router.push({\r\n        name:'profile',\r\n        params:{\r\n          jis:{\r\n            ja:this.ji,\r\n            heji:this.total\r\n          }\r\n        }\r\n      })\r\n    },\r\n    shanc(idx){\r\n      this.carlist = this.carlist.filter(item => item.id != idx.id)\r\n      deletgood(idx.id)\r\n    }\r\n  },\r\n  computed: {\r\n    checkAll:{\r\n      get(){\r\n        if(this.carlist.length==0){\r\n            return this.checkAll=false\r\n          }\r\n        return this.carlist.every(item=>item.xuanzhong==true)\r\n      },\r\n      set(val){\r\n        if(this.carlist.length==0){\r\n          return \r\n        }\r\n        this.carlist.forEach(check => check.xuanzhong = val);\r\n        console.log(val)\r\n        let good =JSON.stringify(val)\r\n        xuangzh(good)\r\n\r\n      }\r\n    },\r\n    total(){\r\n      return this.carlist.filter(item=>item.xuanzhong == true).reduce((prev,next)=>prev+next.count*next.price,0)\r\n    },\r\n    ji(){\r\n       return this.carlist.filter(item=>item.xuanzhong == true).reduce((prev,next)=>prev+next.count,0)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.libox{\r\n  margin-bottom: 50px;\r\n}\r\n.leb{\r\n  width: 100%;\r\n  text-align: left;\r\n  display: block;\r\n  position: fixed;\r\n  line-height: 60px;\r\n  bottom: 60px;\r\n  background: #ccc;\r\n  box-sizing: border-box;\r\n  z-index: 10;\r\n  padding-left: 40px;\r\n  color: #fff;\r\n  .reg{\r\n    float: right;\r\n    padding-right: 10px;\r\n    box-sizing: border-box;\r\n    span{\r\n      padding-right:20px; \r\n    }\r\n    button{\r\n      appearance: none;\r\n      outline: none;\r\n      padding: 10px 20px; \r\n      background: orange;\r\n      border: none;\r\n      font-size: 17px;\r\n      color: #fff;\r\n      border-radius: 10px;\r\n      \r\n    }\r\n    \r\n  }\r\n}\r\n\r\n.ina{\r\n        appearance: none;\r\n        width: 30px;\r\n        height: 30px;\r\n        border: 1px solid #000;\r\n        outline: none;\r\n        border-radius: 5px;\r\n        position: absolute;\r\n        left: 5px;\r\n        top:50%;\r\n        margin-top: -15px;\r\n      }\r\n  .ina:checked.ina:before{\r\n    position: absolute;\r\n    content: '✔';\r\n    font-size: 20px;\r\n    line-height: 30px;\r\n    left: 50%;\r\n    transform:translate(-50%,0%)\r\n  \r\n  }\r\n.box{\r\n  width: 100%;\r\n  display: flex;\r\n  position: relative;\r\n  padding: 0 0 0 50px ;\r\n  box-sizing: border-box;\r\n  .ina{\r\n        position: absolute;\r\n        left: 5px;\r\n        top: 50%;\r\n        margin-top:-15px;\r\n      }\r\n  img{\r\n    width: 200px;\r\n    height: 200px;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n    display: block;\r\n  }\r\n  ul{\r\n    font-size: 17px;\r\n    text-align: left;\r\n    padding: 10px 0;\r\n    box-sizing: border-box;\r\n    li{\r\n      margin: 10px 0;\r\n      button{\r\n        font-size: 20px;\r\n        padding: 0 10px;\r\n      }\r\n      \r\n    }\r\n    .shan{\r\n       appearance: none;\r\n      outline: none;\r\n        color: #fff;\r\n        font-size: 20px;\r\n        padding: 5px 10px;\r\n        background: #ccc;\r\n        border:none;\r\n        margin: 10px 0;\r\n    }\r\n  }\r\n}\r\n  \r\n</style>"],"sourceRoot":"src/views"}]}